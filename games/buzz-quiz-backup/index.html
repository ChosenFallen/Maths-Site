<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <title>Buzz Quiz - Maths Games</title>
        <link rel="stylesheet" href="../../css/style.css" />
        <link rel="stylesheet" href="game.css" />
    </head>
    <body>
        <div class="container">
            <a href="../../" class="back-link">‚Üê Back to Games</a>
            <h1>üî¥üîµ Buzz Quiz</h1>

            <!-- Setup Screen -->
            <div id="setup-screen">
                <p class="instructions">
                    Connect 2-4 PlayStation Buzz Controllers to play!<br />
                    Compete in a maths quiz using your buzzers.
                </p>

                <!-- Controller Status -->
                <div class="controller-status">
                    <h3>Controllers Detected</h3>
                    <div id="controller-count" class="controller-count">
                        Checking for controllers...
                    </div>
                    <p class="hint">Connect controllers and press any button to detect them</p>
                </div>

                <!-- Player Ready Status -->
                <div id="player-ready-section" class="player-ready-section hidden">
                    <h3>Player Ready Status</h3>
                    <p class="hint">Press your red buzzer button to mark yourself as ready!</p>
                    <div id="player-ready-list" class="player-ready-list">
                        <!-- Player ready indicators generated by JS -->
                    </div>
                </div>

                <!-- Game Mode Selection -->
                <div class="menu-section">
                    <h3>Game Mode</h3>
                    <div class="options-grid">
                        <button class="option-btn active" data-mode="buzzer">
                            <div class="mode-title">üî¥ Buzzer Race</div>
                            <div class="mode-desc">First to buzz in answers</div>
                        </button>
                        <button class="option-btn" data-mode="all-answer">
                            <div class="mode-title">üéØ All Answer</div>
                            <div class="mode-desc">Everyone answers together</div>
                        </button>
                    </div>
                </div>

                <!-- Difficulty Selection -->
                <div class="menu-section">
                    <h3>Difficulty</h3>
                    <div class="options-grid">
                        <button class="option-btn" data-difficulty="easy">Easy</button>
                        <button class="option-btn active" data-difficulty="normal">Normal</button>
                        <button class="option-btn" data-difficulty="hard">Hard</button>
                    </div>
                </div>

                <!-- Number of Questions -->
                <div class="menu-section">
                    <h3>Number of Questions</h3>
                    <div class="options-grid">
                        <button class="option-btn" data-questions="5">5 Questions</button>
                        <button class="option-btn active" data-questions="10">10 Questions</button>
                        <button class="option-btn" data-questions="15">15 Questions</button>
                    </div>
                </div>

                <!-- Start Button -->
                <button id="start-btn" class="start-btn" disabled>
                    Waiting for controllers...
                </button>

                <!-- Keyboard Mode Button -->
                <button id="keyboard-mode-btn" class="keyboard-mode-btn">
                    Play with Keyboard (Testing)
                </button>

                <!-- Debug Panel -->
                <div class="debug-panel">
                    <button id="toggle-debug-btn" class="toggle-debug-btn">
                        üîß Show Controller Debug Info
                    </button>
                    <div id="debug-info" class="debug-info hidden">
                        <h3>Controller Debug Information</h3>
                        <div id="debug-output"></div>
                    </div>
                </div>

                <!-- High Scores -->
                <div id="high-scores" class="high-scores hidden">
                    <h3>üèÜ Recent High Scores</h3>
                    <div id="scores-list"></div>
                </div>
            </div>

            <!-- Game Screen -->
            <div id="game-screen" class="hidden">
                <!-- Player Panels -->
                <div class="player-panels" id="player-panels">
                    <!-- Player panels generated by JavaScript -->
                </div>

                <!-- Question Number & Timer -->
                <div class="question-header">
                    <div class="question-number">Question <span id="question-num">1</span>/<span id="total-questions">10</span></div>
                    <div class="timer-bar-container" id="timer-container">
                        <div class="timer-bar" id="timer-bar"></div>
                        <div class="timer-text" id="timer-text">10s</div>
                    </div>
                </div>

                <!-- Question Display -->
                <div class="question-section">
                    <div class="question-text" id="question-text">Loading question...</div>
                </div>

                <!-- Answer Options -->
                <div class="answers-section">
                    <div class="answer-option" data-index="0">
                        <span class="answer-letter">A</span>
                        <span class="answer-text" id="answer-0">Answer A</span>
                    </div>
                    <div class="answer-option" data-index="1">
                        <span class="answer-letter">B</span>
                        <span class="answer-text" id="answer-1">Answer B</span>
                    </div>
                    <div class="answer-option" data-index="2">
                        <span class="answer-letter">C</span>
                        <span class="answer-text" id="answer-2">Answer C</span>
                    </div>
                    <div class="answer-option" data-index="3">
                        <span class="answer-letter">D</span>
                        <span class="answer-text" id="answer-3">Answer D</span>
                    </div>
                </div>

                <!-- Game Status Message -->
                <div class="game-status" id="game-status"></div>

                <!-- End Game Early Button -->
                <button id="end-game-btn" class="end-game-btn">End Game Early</button>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="hidden">
                <h2>üèÜ Game Over!</h2>

                <div class="results-podium" id="results-podium">
                    <!-- Results generated by JavaScript -->
                </div>

                <div class="results-stats" id="results-stats">
                    <!-- Stats generated by JavaScript -->
                </div>

                <button id="play-again-btn" class="start-btn">Play Again</button>
            </div>
        </div>

        <script src="game.js"></script>
    </body>
</html>
